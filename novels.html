<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>novels</title>
<style>
:root {
  --bg: #0d0d0f;
  --card: #1a1a22;
  --text: #f1f1f1;
  --accent: #6f9bff;
}
body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font-family: "Pretendard", sans-serif;
  transition: background 0.3s;
}
header {
  background: var(--card);
  padding: 1rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: sticky;
  top: 0;
  z-index: 10;
}
header h1 { font-size: 1.2rem; margin: 0; }
#searchInput {
  background: #111;
  border: 1px solid #333;
  border-radius: 6px;
  color: var(--text);
  padding: 0.5rem 0.8rem;
  width: 50%;
}
main {
  padding: 1rem;
  display: grid;
  grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
  gap: 1rem;
}
.novel-card {
  background: var(--card);
  padding: 1rem;
  border-radius: 10px;
  cursor: pointer;
  transition: 0.2s;
}
.novel-card:hover { background: #232332; }
.novel-card h3 { margin: 0 0 0.4rem 0; }
.tags { font-size: 0.85rem; color: #aaa; }

#reader {
  display: none;
  flex-direction: column;
  min-height: 100vh;
  padding: 1.5rem;
  max-width: 800px;
  margin: auto;
  line-height: 1.8;
}
#reader p { margin: 1rem 0; }
#backBtn {
  background: var(--card);
  border: none;
  color: var(--accent);
  padding: 0.5rem 1rem;
  border-radius: 8px;
  cursor: pointer;
  margin-bottom: 1rem;
}
footer {
  text-align: center;
  padding: 1rem;
  font-size: 0.85rem;
  color: #666;
}
@media (max-width:600px){
  #searchInput { width: 100%; }
  main { grid-template-columns: 1fr; }
}
</style>
</head>
<body>
<header>
  <h1>novels</h1>
  <input id="searchInput" placeholder="제목, 태그 검색..." />
</header>

<main id="list"></main>

<section id="reader">
  <button id="backBtn">← 목록으로</button>
  <h2 id="novelTitle"></h2>
  <div id="novelContent"></div>
</section>

<script>
// ----- 샘플 소설 데이터 -----
const novels = [
  {
    id: '001',
    title: '뒤틀린 세상',
    genre: '판타지',
    tags: ['디스토피아','파동','차원'],
    content: `1. 이질적인 눈빛

교실은 숨죽인 고요 속에 잠겨 있었다. 낡은 형광등은 위이잉 낮은 소음을 내며 빛을 뿌렸고, 공기 중에는 먼지 특유의 건조한 냄새와 오래된 책 냄새가 섞여 있었다. 칠판 앞에는 반장 ‘한별’이 서 있었다. 늘 그랬듯이 반듯한 교복 차림에, 준비된 발표 자료는 단 한 점의 흐트러짐도 없었다. 주제는 이 사회를 지탱하는 ‘마나 관리 시스템의 효율성’에 대한 비판적 고찰. 완벽한 논리와 빈틈없는 언어로 무장한 발표는 다른 학생들의 감탄을 자아내기에 충분했다.

하지만 나는 한별의 입에서 쏟아져 나오는 논리정연한 문장들을 따라가지 않았다. 대신 내 차가운 시선은 오로지 한별의 눈에 고정되어 있었다. 발표가 진행될수록, 내 미간은 아주 미세하게 일그러졌다.

한별의 눈은 살아 있었다. 정확히는 '살아있는 것처럼' 보였다. 스크린을 향했다가, 교실 뒤편의 카메라를 응시했다가, 이내 학생들을 한 번 훑으며 여유로운 미소를 띠는, 완벽한 호흡의 눈빛이었다. 그러나 나에게는 그 모든 것이 비합리적이었다.

언제나 똑똑하고 야무지던 한별에게서, 나는 단 한 조각의 '인간적인 생각의 흐름'도 찾아볼 수 없었다. 감탄도, 지루함도, 발표에 대한 애착도, 심지어는 이 발표를 이해하고 있다는 순수한 확신조차도 없었다. 그저 프로그램된 대로 움직이는 인형의 눈처럼, 텅 비어 있었음에도 인위적인 생기로 가득 찬 빛을 내뿜고 있는 것 같았다. 어떤 감정도 담겨 있지 않은, 완벽하게 통제된 인형의 눈.

"……따라서 저는, 마나 관리 시스템의 일부를 개선한다면, 우리 사회가 한 단계 더 발전할 수 있다고 생각합니다."

한별의 발표가 끝나자마자 규칙적인 박수 소리가 교실을 채웠다. 나는 여전히 한별의 눈에서 시선을 떼지 못했다. 비정상적으로 또렷한 눈빛은, 그 속에서 아무런 반짝임도 찾을 수 없었기에 더욱 섬뜩했다.

다른 이들에게는 그저 모범적인 학생의 완벽한 발표였겠지만, 나에게는 달랐다.
그것은 내가 평생 믿고 살아온 이성적인 세계에, 처음으로 찍힌 작은 균열의 흔적이었다.

‘이건… 틀렸다.’

차가운 확신이, 내 마음에 서서히 퍼져나갔다.`
  },

// ----- DOM 요소 -----
const list = document.getElementById('list');
const search = document.getElementById('searchInput');
const reader = document.getElementById('reader');
const titleEl = document.getElementById('novelTitle');
const contentEl = document.getElementById('novelContent');
const backBtn = document.getElementById('backBtn');

// ----- 목록 렌더링 -----
function renderList() {
  const q = search.value.toLowerCase();
  list.innerHTML = '';
  novels
    .filter(n =>
      n.title.toLowerCase().includes(q) ||
      n.genre.toLowerCase().includes(q) ||
      n.tags.some(t=>t.toLowerCase().includes(q))
    )
    .forEach(n=>{
      const div = document.createElement('div');
      div.className = 'novel-card';
      div.innerHTML = `
        <h3>${n.title}</h3>
        <div class="tags">${n.genre} · ${n.tags.join(', ')}</div>
      `;
      div.onclick = ()=>openNovel(n);
      list.appendChild(div);
    });
}

// ----- 소설 열기 -----
function openNovel(novel){
  document.querySelector('main').style.display='none';
  reader.style.display='flex';
  titleEl.textContent = novel.title;
  contentEl.innerHTML = novel.content.split('\n')
    .map(p=>`<p>${p}</p>`).join('');
  window.scrollTo(0,0);
}

// ----- 뒤로 -----
backBtn.onclick = ()=>{
  reader.style.display='none';
  document.querySelector('main').style.display='grid';
  window.scrollTo(0,0);
}

// ----- 검색 이벤트 -----
search.addEventListener('input', renderList);

// ----- 초기 로드 -----
renderList();
</script>
</body>
</html>
